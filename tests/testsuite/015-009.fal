/*
@name Summoning delegate
@category Summoning

@output
Summoning delegate
Partial delegate
Direct call: 
master: check 2
Delegated call: 
delegate: check 1
============================================================
Full delegate
delegate: check 1
delegate: check 2
============================================================
Done.
@endoutput
*/

class Test( id )
   id = id
   
   function check1()
      > self.id, ": check 1"
   end
   
   function check2()
      > self.id, ": check 2"
   end
end

> "Summoning delegate"
depth = VMContext.dataDepth

e1 = Test('master')
e2 = Test('delegate')
e1::delegate[ e2 "check1" ]

> "Partial delegate"
> "Direct call: "
e1::check2[]

> "Delegated call: "
e1::check1[]

> "="*60

> "Full delegate"
e1 = Test('master')
e2 = Test('delegate')
e1::delegate[ e2 ]
e1::check1[]
e1::check2[]

> "="*60



> "Done."
