/****************************************************************************
* Falcon test suite
*
* ID: 38h
* Category: attributes
* Subcategory: broadcast
* Short: Signle broadcast
* Description:
*  Checks for broadcasts on single receivers to be received only once.
* [/Description]
*
****************************************************************************/

attributes: test

object tattrib
   function test()
      global val
      val = val + 1
      return false
   end

   has test
end

val = 0
// some multiple assignment
give test to tattrib

broadcast( test )

if val == 0: failure( "Broadcast never received" )
if val != 1: failure( "Broadcast received more than once" )
success()

