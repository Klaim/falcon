/****************************************************************************
* Falcon test suite
*
* ID: 11i
* Category: types
* Subcategory: array
* Short: String copy in arrays
* Description:
* Checks if deep array assignment actually copy the string by value.
* [/Description]
*
****************************************************************************/

// creation
string = "0000"
array = [ string ]
string[0] = "1"
if array[0] != "0000": failure( "Array creation" )

// setting
string = "0000"
array[0] = string
string[0] = "1"
if array[0] != "0000": failure( "Array write access" )

// self addition
string = "0000"
array += string
string[0] = "1"
if array[1] != "0000": failure( "array self append" )

// normal addition
string = "0000"
array = ["0"] + string
string[0] = "1"
if array[1] != "0000": failure( "array + string" )

// array range
string = "0000"
array[0:0] = string
string[0] = "1"
if array[0] != "0000": failure( "array range insert" )

// array range
string = "0000"
array[0:1] = string
string[0] = "1"
if array[0] != "0000": failure( "array range change" )

// array merge
string = "0000"
array = ["0"] + [string]
string[0] = "1"
if array[1] != "0000": failure( "array merge" )

// array deep merge
string = "0000"
array = ["0"] + [string]
array1 = array + [ "another string" ]
array[1][0] = "1"
if array1[1] != "0000": failure( "array deep merge" )

success()

/* End of file */
