/****************************************************************************
* Falcon test suite
*
* ID: 19h
* Category: functional
* Subcategory: mappings
* Short: xmap
* Description:
*   Checks for correct working of functional construct "xmap".
* [/Description]
*
****************************************************************************/

function map_func( a )
   if a < 0: raise nil
   return a * a
end

// empty mapping
if xmap( map_func, [] ).len() != 0: failure( "Empty set" )

fp = xmap( map_func, [1,-2,3,-4] )

if fp.len() != 2
   failure( "XMap selection count" )
end

if fp[0] != 1 or fp[1] != 9
   failure( "Full reducing without initial value" )
end


success()

/* End of file */
