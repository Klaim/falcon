/*
@name Dynamic code change smoke test
@category Dyncode

@output
Creating a dynamic loop:
1,2,3,4.5.
Done.
@endoutput
*/

import Syn.*

> "Creating a dynamic loop:"

// Testing if a dynamic code change works.
x = {[] while 0; end }

x.selector = {[] a < 5 }
x.append( {[] print(++a) } )
x.append( {[] if a < 4; print(","); else; print("."); end} )

a = 0
x()
printl()
printl( "Done.")
