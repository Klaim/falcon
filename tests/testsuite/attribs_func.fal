/****************************************************************************
* Falcon test suite
*
* ID: 38d
* Category: attributes
* Subcategory: 
* Short: Attributes functions
* Description:
*  Checking for attribute operations through core functions.
*  
*  The test presumes that previous tests on attributes (in 21 and 
*  22 series) have already been passed, so we won't check here for
*  inheritance or object startup attributes.
* [/Description]
*
****************************************************************************/

attributes
   a_one, a_two, a_three
end

class CObj( name, attrib )
   name = name
   
   init
      if attrib.type() == AttributeType
        giveTo( attrib, self )
      end
   end
   
end

// create 4 objects with different attributes
o1 = CObj( "one", a_one )
o2 = CObj( "two", a_two )
o3 = CObj( "three", a_three )
o4 = CObj( "four" )  // without attribute

if o1 hasnt a_one: failure( "giveTo function" )

// removing ungiven attribute
removeFrom( a_one, o2 )
if o2 has a_one: failure( "Ungiven attribute" )
if o2 hasnt a_two: failure( "Unmaintained attribute" )
   
// removing a given attribute
removeFrom( a_three, o3 )
if o3 has a_three: failure( "removeFrom" )

// removeFromAll
removeFromAll( a_two )
if o2 has a_two: failure( "removeFromAll" )
   
success()

/* End of file */
