/*
@name MultiTokenizer on Stream
@category Core-various

@output
MultiTokenizer on Stream
Getting off, Grouping off:
Sequence: 'a', '', 'b', '', 'c', 'd', 'e', '', ''.
==================================================
Getting off, Grouping on
Sequence: 'a', 'b', 'c', 'd', 'e', ''.
==================================================
Getting on, Grouping on:
Sequence: 'a', ',', 'b', ';', 'c', ' ', 'd', '.', 'e', ';', ''.
Done
@endoutput
*/

> "MultiTokenizer on Stream"

function test(mt)
   for piece in mt
      forfirst: >> "Sequence: "
      >> "'", piece, "'"
      formiddle: >> ", "
      forlast: > "."
   end
end

> "Getting off, Grouping off:"
tr = TextReader(StringStream("a,,b;;c d.e;;"))
mt = MultiTokenizer( tr )
mt.add( r",|;", " ", "." )

test(mt)

> "="*50
> "Getting off, Grouping on"
mt.rewind()
mt.groupTokens = true
test(mt)

> "="*50
> "Getting on, Grouping on:"
mt.rewind()
mt.giveTokens = true
mt.groupTokens = true
test(mt)

> "Done"
