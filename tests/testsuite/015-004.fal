/*
@name Summoning on classes
@category Summoning

@output
Summoning on classes
Summoned set: prompt
Summoned get: prompt
Summoned method with 2 params: 
prompt, a, b, Nil
Summoned method with 4 params: 
prompt, a, b, c
Done.
@endoutput
*/

class Test
   prop = nil
   function check(a,b,c)
      > self.prop, ", ", a, ", ", b, ", ",c
   end
end

> "Summoning on classes"
depth = VMContext.dataDepth

entity = Test()
entity::prop['prompt' 'dummy' 'dummy']

depth1 = VMContext.dataDepth
if depth != depth1
   raise "Data stack corrupted"
end

> "Summoned set: ", entity.prop
> "Summoned get: ", entity::prop[]
> "Summoned method with 2 params: "
entity::check['a' 'b']
> "Summoned method with 4 params: "
entity::check['a' 'b' 'c' 'd']

> "Done."
