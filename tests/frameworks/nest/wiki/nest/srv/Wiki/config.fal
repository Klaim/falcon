/*
   FALCON - The Falcon Programming Language

   Nest - Falcon web applcation engine

   FILE: config.fal

   Test - Configuration for the wiki service.
   -------------------------------------------------------------------
   Author: Giancarlo Niccolai
   Begin: Sun, 22 Aug 2010 12:37:43 +0200

   -------------------------------------------------------------------
   (C) Copyright 2010: the FALCON developers (see list in AUTHORS file)

   See LICENSE file for licensing details.
*/

import from parser.creole
import from parser.render.html in sh
import from nest.action in na


parser = parser.creole.Parser()
helper = MyHelper()
upload_dir = "/uploads"
actions = .[
   na.ButtonAction( Nest.AL.NONE, i"Insert image", "javascript:insertImage()" )
   na.ButtonAction( Nest.AL.NONE, i"Insert file", "javascript:insertFile()" )
]   

class MyHelper from sh.BaseSiteHelper
   function pageLink( v )
      return Nest.pageLink(nil,["wid"=>v])
   end

   function img( v )
      return upload_dir+"/" + URI.encode(v)
   end

   function file( v )
      return upload_dir+"/" + URI.encode(v)
   end

   /*function plugin( plugin_name, params, node )
      end
   */
end

//return @"<pre class=\"brush:$lang\">\n"+v+"</pre>"