/*#
 * @file        SayHello.fal
 * @brief       Self-describing API object.
 * @begin       23-Aug-2010
 * @author      <a href="mailto:giuseppe.greco@agamura.com">Giuseppe Greco</a>
 *
 * @copyright   (C) 2010 href="http://www.falconpl.org">The Falcon Programming Language</a>
 * @legalnotice Released under FPLL 1.1 or GPL 2.0 at your choice.
 */

import from api

/*#
 * Self-describing API object.
 *
 * @sa api.Wrapper, WebAPI
 */
object SayHello from api.Wrapper(
    "SayHello",
    i"Says hello to the specified person.",
    [ 1 => i"You have not specified to whom you want to say hello."])

    params = .[
        api.Param("toWhom", i"To whom you want to say hello.", nil, true)
    ]

    /*#
     * Implements the API object functionality.
     *
     * @return The hello message.
     */
    function go(toWhom)
        if not toWhom
            self.error(1, i"Provide the name of a friend of yours.")
        end

        return @i'hello $(toWhom)!'
    end
end

SayHello.execute()
