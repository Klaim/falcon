/*******************************************************************************
<source name="SayHello.fal" language="falcon" begin="23-Aug-2010">
    <description>
        Self-describing API object.
    </description>
    <authors>
        <author href="mailto:giuseppe.greco@agamura.com">Giuseppe Greco</author>
    </authors>
    <copyright year="2010" holder="CKD, Inc.">
        All rights reserved.
    </copyright>
</source>
*******************************************************************************/

import from api

/*******************************************************************************
<object name="SayHello">
    <description>
        Implements the API object functionality.
    </description>
</object>
*******************************************************************************/
object SayHello from api.Wrapper(
    "SayHello",
    i"Says hello to the specified person.",
    [ 1 => i"You have not specified to whom you want to say hello."])

    params = .[
        api.Param("toWhom", i"To whom you want to say hello.", nil, true)
    ]

    /***************************************************************************
    <function name="go">
        <description see="self">
        <params see="self"/>
        <return>
            The hello message.
        </return>
    </function>
    ***************************************************************************/
    function go(toWhom)
        if not toWhom
            self.error(1, i"Provide the name of a friend of yours.")
        end

        return i"hello " + toWhom + "!"
    end
end

SayHello.execute()
