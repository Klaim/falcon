<?
   import from nest.widgets.widget in widget
?>
<h2>Basic widgets with local page messaging</h2>
<?
   wid = Nest.widget( "ActiveTextArea" )("enter_text", "Enter text", 3, 30)

   widtext = Nest.widget("Text")("counter","0")
   widtext.addStyle( "color:red; font-weight:bold" )
   widtext.jsListeners = [
      wid => "function( source, msg, value ) { this.innerHTML = value.length; }"
      ]
?>
<p><?= wid.render() ?></p>
<p>Lenght of the text: <?=widtext.render() ?></p>

<p>In this test, we use a custom ActiveTextArea widget on the site, which
just sends a message to the "listeners" at each change. Then, we create
a local widget out of the standard "Text" widget. To have this text widget
to listen for messages generated by the active text area, it is just necessary
to add it to the dictionary of jsListeners:
<pre>
 wid = Nest.widget( "ActiveTextArea" )("enter_text", "Enter text", 3, 30)

   widtext = Nest.widget("Text")("counter","0")
   widtext.addStyle( "color:red; font-weight:bold" )
   widtext.jsListeners = [
      wid => "function( source, msg, value ) { this.innerHTML = value.length; }"
      ]
</pre>
</p>